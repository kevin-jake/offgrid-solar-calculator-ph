(this["webpackJsonpoffgrid-solar-calculator-ph"]=this["webpackJsonpoffgrid-solar-calculator-ph"]||[]).push([[3],{11:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var l=a(0),r=Object(l.createContext)({isLoggedIn:!1,userId:null,token:null,email:null,name:null,role:null,login:function(){},logout:function(){}})},12:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return u}));var l=a(5),r=a(1),n=a(0),c=a.n(n),o={loadtab:{itemState:{items:[{loadname:"",userqty:0,wattage:0,totalwatts:0,ophours:0,watthours:0}]},overalls:{totalwatts:0,watthours:0}},batterytab:{id:"",battname:"",batttype:"",battmodel:"",voltage:0,battcapacity:0,priceperpc:0,totalqty:0,totalcapacity:0,totalprice:0,img:"",link:""},invertertab:{id:"",inverterName:"",type:"",inputVoltage:0,efficiency:0,wattage:0,price:0,link:""},solarpanelstab:{id:"",pvname:"",wattage:0,brand:"",voc:0,imp:0,isc:0,price:0,link:"",sunhours:0},scctab:{id:"",sccname:"",type:"",brand:"",supplier:"",amprating:0,price:0,img:"",link:""},dodTable:{leadacid:{battcapacity:0,dodbattcap:0,inverterpower:0,totalCurrentLoad:0,totalDCPower:0},lifepo:{battcapacity:0,dodbattcap:0,inverterpower:0,totalCurrentLoad:0,totalDCPower:0},lion:{battcapacity:0,dodbattcap:0,inverterpower:0,totalCurrentLoad:0,totalDCPower:0}},seriesParallelTable:{parallel:0,series:0,totalcapacity:0,totalnumber:0,totalprice:0}},i=function(e,t){switch(t.type){case"LOAD":return Object(r.a)(Object(r.a)({},e),{},{loadtab:t.loadtab});case"INV":return Object(r.a)(Object(r.a)({},e),{},{invertertab:t.invertertab});case"BATT":return Object(r.a)(Object(r.a)({},e),{},{batterytab:t.batterytab});case"PV":return Object(r.a)(Object(r.a)({},e),{},{solarpanelstab:t.solarpanelstab});case"SCC":return Object(r.a)(Object(r.a)({},e),{},{scctab:t.scctab});case"DOD":return Object(r.a)(Object(r.a)({},e),{},{dodTable:t.dodTable});case"SP":return Object(r.a)(Object(r.a)({},e),{},{seriesParallelTable:t.seriesParallelTable});case"reset":return console.log(t.initState),t.initState;default:return e}},s=Object(n.createContext)(o),u=function(e){var t=Object(n.useReducer)(i,o),a=Object(l.a)(t,2),r=a[0],u=a[1],m={loadtab:r.loadtab,batterytab:r.batterytab,invertertab:r.invertertab,solarpanelstab:r.solarpanelstab,scctab:r.scctab,seriesParallelTable:r.seriesParallelTable,dodTable:r.dodTable,reset:function(){u({type:"reset",initState:o})},setDOD:function(e){u({type:"DOD",dodTable:e})},setSP:function(e){u({type:"SP",seriesParallelTable:e})},setSCC:function(e){u({type:"SCC",scctab:e})},setLoad:function(e){u({type:"LOAD",loadtab:e})},setBattery:function(e){u({type:"BATT",batterytab:e})},setInverter:function(e){u({type:"INV",invertertab:e})},setPV:function(e){u({type:"PV",solarpanelstab:e})}};return c.a.createElement(s.Provider,{value:m},e.children)}},16:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return u}));var l=a(5),r=a(1),n=a(0),c=a.n(n),o={voltage:12,overallprice:{twelveV:0,twentyfourV:0,fortyeightV:0},totalbattcapacity:{totalcapacity:0,battinseries:0,battinparallel:0,battvoltage:0,battcapacity:0,battsizeneed:0,currentload:0,powertoinverter:0,totalprice:0},solarpanel:{pvname:"",pvparallel:0,pvseries:0,totalwattage:0,totalnumberpv:0,totalprice:0},scc:{sccname:"",type:"",amprating:0,price:0},isValid:{inverter:{valid:!0,message:""},scc:{valid:!0,message:""},solarpanel:{valid:!0,message:""}}},i=function(e,t){switch(t.type){case"SETV":return Object(r.a)(Object(r.a)({},e),{},{voltage:t.voltage});case"SETBATT":return Object(r.a)(Object(r.a)({},e),{},{totalbattcapacity:t.totalbattcapacity});case"SETPV":return Object(r.a)(Object(r.a)({},e),{},{solarpanel:t.solarpanel});case"SETSCC":return Object(r.a)(Object(r.a)({},e),{},{scc:t.scc});case"SETPRICE":return Object(r.a)(Object(r.a)({},e),{},{overallprice:t.overallprice});case"SETVALID":return Object(r.a)(Object(r.a)({},e),{},{isValid:t.isValid});default:return e}},s=Object(n.createContext)(o),u=function(e){var t=Object(n.useReducer)(i,o),a=Object(l.a)(t,2),r=a[0],u=a[1],m={voltage:r.voltage,overallprice:r.overallprice,totalbattcapacity:r.totalbattcapacity,solarpanel:r.solarpanel,scc:r.scc,isValid:r.isValid,setValid:function(e){u({type:"SETVALID",isValid:e})},setOverallPrice:function(e){u({type:"SETPRICE",overallprice:e})},setSCCGlobal:function(e){u({type:"SETSCC",scc:e})},setSolarPanel:function(e){u({type:"SETPV",solarpanel:e})},setVoltage:function(e){u({type:"SETV",voltage:e})},setBatteryCap:function(e){u({type:"SETBATT",totalbattcapacity:e})}};return c.a.createElement(s.Provider,{value:m},e.children)}},17:function(e,t,a){"use strict";var l=a(0),r=a.n(l);t.a=function(){return r.a.createElement("div",{className:" inset-0 z-40 w-full h-full absolute flex justify-center bg-white bg-opacity-75 items-center text-lg text-blue-700"},r.a.createElement("svg",{className:"animate-spin h-24 w-24 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},r.a.createElement("circle",{className:"opacity-10",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.a.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})))}},22:function(e,t,a){},27:function(e,t,a){e.exports=a(37)},37:function(e,t,a){"use strict";a.r(t);var l,r=a(0),n=a.n(r),c=a(15),o=a.n(c),i=(a(22),a(2)),s=a(8),u=a(5),m=a(11),b=a(16),d=a(12),p=a(26),g=function(e){return n.a.createElement("header",{className:"bg-white dark:bg-gray-800"},e.children)},v=function(e){return n.a.createElement("div",{className:"each flex rounded border border-1 border-blue-400 w-max text-gray-600 mb-5 bg-white"},n.a.createElement("div",{className:"sec self-center p-2 pr-1"},n.a.createElement("svg",{className:"h-10 w-10 text-black",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}," ",n.a.createElement("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"})," ",n.a.createElement("circle",{cx:"12",cy:"7",r:"4"}))),n.a.createElement("div",{className:"sec self-center p-2 w-auto"},n.a.createElement("div",{className:"flex"},n.a.createElement("div",{className:"name text-sm"},e.name),"Admin"===e.role&&n.a.createElement("div",{className:"role font-bold text-sm text-blue-600 self-center px-1 w-max rounded"},"(Admin)")),n.a.createElement("div",{className:"title text-xs text-gray-400 -mt-1"},e.email)),e.children)},f=function(){var e=Object(r.useContext)(m.a),t=e.isLoggedIn,a=e.logout,l=e.email,c=e.name,o=e.role,i=Object(r.useContext)(d.a).reset;return n.a.createElement(n.a.Fragment,null,n.a.createElement("p",{className:"mx-8 text-gray-700 transition-colors duration-200 transform dark:text-gray-200 dark:hover:text-blue-400 hover:text-blue-500"},n.a.createElement(s.b,{to:"/",exact:!0},"Calculation")),t&&n.a.createElement(n.a.Fragment,null,n.a.createElement("p",{className:"mx-8 text-gray-700 transition-colors duration-200 transform dark:text-gray-200 dark:hover:text-blue-400 hover:text-blue-500"},n.a.createElement(s.b,{to:"/inverters",exact:!0},"Inverter List")),n.a.createElement("p",{className:"mx-8 text-gray-700 transition-colors duration-200 transform dark:text-gray-200 dark:hover:text-blue-400 hover:text-blue-500"},n.a.createElement(s.b,{to:"/batteries",exact:!0},"Battery List")),n.a.createElement("p",{className:"mx-8 text-gray-700 transition-colors duration-200 transform dark:text-gray-200 dark:hover:text-blue-400 hover:text-blue-500"},n.a.createElement(s.b,{to:"/solarpanels",exact:!0},"Solar Panel List")),n.a.createElement("p",{className:"mx-8 text-gray-700 transition-colors duration-200 transform dark:text-gray-200 dark:hover:text-blue-400 hover:text-blue-500"},n.a.createElement(s.b,{to:"/sccs",exact:!0},"SCC List"))," "),!t&&n.a.createElement("p",{className:"block px-5 py-2 mt-4 font-medium leading-5 text-center text-white capitalize bg-blue-600 rounded-lg lg:mt-0 hover:bg-blue-500 lg:w-auto"},n.a.createElement(s.b,{to:"/auth"},"ATHENTICATE")),t&&n.a.createElement(v,{name:c,email:l,role:o},n.a.createElement("div",{className:"sec self-center p-2 w-2/8"},n.a.createElement("div",{className:"buttons text-xs flex font-light"},n.a.createElement("button",{className:"float-right px-5 py-2 mt-5 font-medium leading-5 text-center text-white capitalize bg-blue-600 rounded-lg lg:mt-0 hover:bg-blue-500 lg:w-auto",onClick:function(){a(),i()}},"LOGOUT"))," ")))},x=function(e){var t=Object(r.useState)(!1),a=Object(u.a)(t,2),l=a[0],c=a[1],o=Object(p.useMediaQuery)({query:"(max-width: 1011px)"});return n.a.createElement(g,null,n.a.createElement("nav",null,n.a.createElement("div",{className:"container-lg p-6 bg-indigo-50 bg-opacity-30 shadow mx-auto lg:flex lg:justify-between lg:items-center"},n.a.createElement("div",{className:"flex items-center justify-between"},n.a.createElement("div",null,n.a.createElement("button",{className:"text-2xl font-bold text-gray-800 dark:text-white lg:text-3xl hover:text-gray-700 dark:hover:text-gray-300"},n.a.createElement("svg",{className:"inline-block h-16 w-16 text-yellow-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},n.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})),"Solar Calculator")),n.a.createElement("div",{className:"flex lg:hidden",onClick:function(){console.log(l),c(!l)}},n.a.createElement("button",{type:"button",className:"text-gray-500 dark:text-gray-200 hover:text-gray-600 dark:hover:text-gray-400 focus:outline-none focus:text-gray-600 dark:focus:text-gray-400","aria-label":"toggle menu"},n.a.createElement("svg",{viewBox:"0 0 24 24",className:"w-6 h-6 fill-current"},n.a.createElement("path",{fillRule:"evenodd",d:"M4 5h16a1 1 0 0 1 0 2H4a1 1 0 1 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2z"}))))),n.a.createElement("div",{className:l||!o?"flex-col mt-4 items-center space-y-2 lg:mt-0 lg:flex-row lg:-px-8 lg:space-y-0 flex":"hidden"},n.a.createElement(f,null)))))},E=a(17),y=n.a.lazy((function(){return Promise.all([a.e(0),a.e(7),a.e(6)]).then(a.bind(null,107))})),h=n.a.lazy((function(){return Promise.all([a.e(9),a.e(8)]).then(a.bind(null,109))})),O=n.a.lazy((function(){return Promise.all([a.e(0),a.e(2),a.e(1),a.e(11)]).then(a.bind(null,110))})),j=n.a.lazy((function(){return Promise.all([a.e(0),a.e(2),a.e(1),a.e(10)]).then(a.bind(null,111))})),w=n.a.lazy((function(){return Promise.all([a.e(0),a.e(2),a.e(1),a.e(13)]).then(a.bind(null,112))})),k=n.a.lazy((function(){return Promise.all([a.e(0),a.e(2),a.e(1),a.e(12)]).then(a.bind(null,113))})),S=function(){var e,t=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(),o=Object(u.a)(c,2),i=o[0],s=o[1],m=Object(r.useState)(!1),b=Object(u.a)(m,2),d=b[0],p=b[1],g=Object(r.useState)(),v=Object(u.a)(g,2),f=v[0],x=v[1],E=Object(r.useState)(),y=Object(u.a)(E,2),h=y[0],O=y[1],j=Object(r.useState)(),w=Object(u.a)(j,2),k=w[0],S=w[1],T=Object(r.useCallback)((function(e,t,a,l,r,c){n(t),p(e),x(a),O(l),S(r);var o=c||new Date((new Date).getTime()+36e5);s(o),localStorage.setItem("userData",JSON.stringify({userId:e,token:t,email:a,name:l,role:r,expiration:o.toISOString()}))}),[]),C=Object(r.useCallback)((function(){n(null),s(null),p(null),x(null),O(null),S(null),localStorage.removeItem("userData")}),[]);return Object(r.useEffect)((function(){if(a&&i){var e=i.getTime()-(new Date).getTime();l=setTimeout(C,e)}else clearTimeout(l)}),[a,C,i]),Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));e&&e.token&&new Date(e.expiration)>new Date&&T(e.userId,e.token,e.email,e.name,e.role,new Date(e.expiration))}),[T]),{token:a,login:T,logout:C,userId:d,name:h,email:f,role:k}}(),a=t.token,c=t.login,o=t.logout,p=t.userId,g=t.email,v=t.name,f=t.role;return e=a?n.a.createElement(i.d,null,n.a.createElement(i.b,{path:"/",exact:!0},n.a.createElement(y,null)),n.a.createElement(i.b,{path:"/inverters",exact:!0},n.a.createElement(O,null)),n.a.createElement(i.b,{path:"/batteries",exact:!0},n.a.createElement(j,null)),n.a.createElement(i.b,{path:"/solarpanels",exact:!0},n.a.createElement(w,null)),n.a.createElement(i.b,{path:"/sccs",exact:!0},n.a.createElement(k,null)),n.a.createElement(i.a,{to:"/"})):n.a.createElement(i.d,null,n.a.createElement(i.b,{path:"/",exact:!0},n.a.createElement(y,null)),n.a.createElement(i.b,{path:"/auth",exact:!0},n.a.createElement(h,null)),n.a.createElement(i.a,{to:"/auth"})),n.a.createElement(m.a.Provider,{value:{isLoggedIn:!!a,token:a,userId:p,email:g,name:v,role:f,login:c,logout:o}},n.a.createElement(b.b,null,n.a.createElement(d.b,null,n.a.createElement(s.a,null,n.a.createElement(x,null),n.a.createElement("main",null,n.a.createElement(r.Suspense,{fallback:n.a.createElement("div",null,n.a.createElement(E.a,null))},e))))))};o.a.render(n.a.createElement(S,null),document.getElementById("root"))}},[[27,4,5]]]);
//# sourceMappingURL=main.488a1b59.chunk.js.map