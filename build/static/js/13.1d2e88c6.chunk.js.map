{"version":3,"sources":["crudpages/SolarPanelItems.js","crudpages/SolarPanelList.js"],"names":["SolarPanelItems","pvlist","formInputs","onUpdate","useState","showEditModal","setShowEditModal","showDeleteModal","setShowDeleteModal","role","useContext","AuthContext","update","className","pvname","brand","wattage","voc","imp","vmp","isc","supplier","numberWithCommas","price","toFixed","target","rel","href","link","onClick","EditItem","show","onCancel","initialValue","title","DeleteItem","idToDelete","id","SolarPanelList","setPVList","useHttpClient","isLoading","sendRequest","error","clearError","showModal","setShowModal","refresh","setRefresh","useEffect","a","process","responseData","solar_panel","fetchPV","listkey","type","label","validator","VALIDATOR_REQUIRE","unit","VALIDATOR_NUMBER","setModal","cancelModal","LoadingSpinner","length","AddItem","map","obj","key"],"mappings":"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","file":"static/js/13.1d2e88c6.chunk.js","sourcesContent":["import React, { useContext, useState } from \"react\";\nimport { AuthContext } from \"../shared/context/auth-context\";\nimport { numberWithCommas } from \"../shared/util/format\";\nimport DeleteItem from \"./form/DeleteItem\";\nimport EditItem from \"./form/EditItem\";\n\nconst SolarPanelItems = ({ pvlist, formInputs, onUpdate }) => {\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const { role } = useContext(AuthContext);\n  const openEdit = () => {\n    setShowEditModal(true);\n  };\n\n  const closeEdit = () => {\n    setShowEditModal(false);\n  };\n\n  const openDelete = () => {\n    setShowDeleteModal(true);\n  };\n\n  const closeDelete = () => {\n    setShowDeleteModal(false);\n  };\n\n  const update = () => {\n    onUpdate();\n  };\n\n  return (\n    <>\n      <tr>\n        <td className=\"px-6 py-4 whitespace-no-wrap border-b border-gray-500\">\n          <div className=\"text-sm leading-5 text-blue-900\">{pvlist.pvname}</div>\n        </td>\n        <td className=\"px-6 py-4 whitespace-no-wrap border-b text-blue-900 border-gray-500 text-sm leading-5\">\n          {pvlist.brand}\n        </td>\n        <td className=\"px-6 py-4 whitespace-no-wrap border-b text-blue-900 border-gray-500 text-sm leading-5\">\n          {pvlist.wattage + \" W\"}\n        </td>\n        <td className=\"px-6 py-4 whitespace-no-wrap border-b text-blue-900 border-gray-500 text-sm leading-5\">\n          {pvlist.voc + \" V\"}\n        </td>\n        <td className=\"px-6 py-4 whitespace-no-wrap border-b border-gray-500 text-blue-900 text-sm leading-5\">\n          {pvlist.imp + \" A\"}\n        </td>\n        <td className=\"px-6 py-4 whitespace-no-wrap border-b border-gray-500 text-blue-900 text-sm leading-5\">\n          {pvlist.vmp + \" V\"}\n        </td>\n        <td className=\"px-6 py-4 whitespace-no-wrap border-b border-gray-500 text-blue-900 text-sm leading-5\">\n          {pvlist.isc + \" A\"}\n        </td>\n        <td className=\"px-6 py-4 whitespace-no-wrap border-b border-gray-500 text-blue-900 text-sm leading-5\">\n          {pvlist.supplier}\n        </td>\n        <td className=\"px-6 py-4 whitespace-no-wrap border-b border-gray-500 text-blue-900 text-sm leading-5\">\n          {\"Php \" + numberWithCommas(pvlist.price.toFixed(2))}\n        </td>\n        <td className=\"px-6 py-4 whitespace-no-wrap border-b border-gray-500 text-blue-900 text-sm leading-5\">\n          <a\n            className=\" px-4 py-2 mt-2 text-blue-600 visited:text-purple-600\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            href={pvlist.link}\n          >\n            {pvlist.link ? \"Link\" : \"\"}\n          </a>\n        </td>\n        {role === \"Admin\" && (\n          <td className=\"px-6 py-4 whitespace-no-wrap text-right border-b border-gray-500 text-sm leading-5\">\n            <div className=\"grid lg:grid-row xl:grid-cols-2 gap-4 sm:grid-row md:grid-row\">\n              <button\n                className=\"px-5 py-2 border-blue-500 border text-blue-500 rounded transition duration-300 hover:bg-blue-700 hover:text-white focus:outline-none md:row-span-auto\"\n                onClick={openEdit}\n              >\n                Edit\n              </button>\n              <button\n                className=\"px-5 py-2 border-blue-500 border text-blue-500 rounded transition duration-300 hover:bg-blue-700 hover:text-white focus:outline-none md:row-span-auto\"\n                onClick={openDelete}\n              >\n                Delete\n              </button>\n            </div>\n          </td>\n        )}\n      </tr>\n      {role === \"Admin\" && (\n        <>\n          <EditItem\n            show={showEditModal}\n            onCancel={closeEdit}\n            formInputs={formInputs}\n            initialValue={pvlist}\n            onUpdate={update}\n            title=\"Solar Panel\"\n          />\n          <DeleteItem\n            show={showDeleteModal}\n            onCancel={closeDelete}\n            idToDelete={pvlist.id}\n            onUpdate={update}\n            title=\"Solar Panel\"\n          />\n        </>\n      )}\n    </>\n  );\n};\n\nexport default SolarPanelItems;\n","import React, { useContext, useEffect, useState } from \"react\";\n// import { LOVContext } from \"../homepage/context/lov-context\";\nimport { useHttpClient } from \"../shared/components/hooks/http-hook\";\nimport LoadingSpinner from \"../shared/components/UIElements/LoadingSpinner\";\nimport { AuthContext } from \"../shared/context/auth-context\";\nimport { VALIDATOR_NUMBER, VALIDATOR_REQUIRE } from \"../shared/util/validators\";\nimport AddItem from \"./form/AddItem\";\nimport SolarPanelItems from \"./SolarPanelItems\";\n\nconst SolarPanelList = () => {\n  // const { pvlist } = useContext(LOVContext);\n  const [pvlist, setPVList] = useState([]);\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\n  const [showModal, setShowModal] = useState(false);\n  const [refresh, setRefresh] = useState(true);\n  const { role } = useContext(AuthContext);\n\n  useEffect(() => {\n    const fetchPV = async () => {\n      try {\n        const responseData = await sendRequest(\n          process.env.REACT_APP_BACKEND_URL + \"/pv\"\n        );\n\n        setPVList(responseData.solar_panel);\n      } catch (err) {}\n    };\n    fetchPV();\n    // eslint-disable-next-line\n  }, [sendRequest, refresh]);\n\n  const formInputs = [\n    {\n      listkey: \"id\",\n      type: \"text\",\n      label: \"ID\",\n    },\n    {\n      listkey: \"pvname\",\n      type: \"text\",\n      label: \"Name\",\n      validator: [VALIDATOR_REQUIRE()],\n    },\n    {\n      listkey: \"wattage\",\n      type: \"number\",\n      label: \"Wattage\",\n      unit: \"W\",\n      validator: [VALIDATOR_REQUIRE()],\n    },\n    { listkey: \"brand\", type: \"text\", label: \"Brand\" },\n    { listkey: \"supplier\", type: \"text\", label: \"Supplier\" },\n    {\n      listkey: \"voc\",\n      type: \"text\",\n      label: \"Voc\",\n      unit: \"V\",\n      validator: [VALIDATOR_REQUIRE(), VALIDATOR_NUMBER()],\n    },\n    {\n      listkey: \"imp\",\n      type: \"text\",\n      label: \"Imp\",\n      unit: \"A\",\n      validator: [VALIDATOR_REQUIRE(), VALIDATOR_NUMBER()],\n    },\n    {\n      listkey: \"vmp\",\n      type: \"text\",\n      label: \"Vmp\",\n      unit: \"V\",\n      validator: [VALIDATOR_REQUIRE(), VALIDATOR_NUMBER()],\n    },\n    {\n      listkey: \"isc\",\n      type: \"text\",\n      label: \"Isc\",\n      unit: \"A\",\n      validator: [VALIDATOR_REQUIRE(), VALIDATOR_NUMBER()],\n    },\n    {\n      listkey: \"price\",\n      type: \"text\",\n      label: \"Price\",\n      unit: \"Php\",\n      validator: [VALIDATOR_REQUIRE(), VALIDATOR_NUMBER()],\n    },\n    // { listkey: \"img\", type: \"text\", label: \"Image\" },\n    { listkey: \"link\", type: \"text\", label: \"Link\" },\n  ];\n\n  const setModal = () => {\n    setShowModal(true);\n  };\n\n  const cancelModal = () => {\n    setShowModal(false);\n  };\n\n  const onUpdate = () => {\n    setRefresh(!refresh);\n  };\n\n  const toRender = (list) => {\n    if (list.length === 0) {\n      return (\n        <div className=\"bg-white overflow-hidden sm:rounded-lg pb-8\">\n          <div className=\"border-t border-gray-200 text-center pt-8\">\n            <h1 className=\"text-6xl font-bold text-gray-400\">Empty List</h1>\n            <h1 className=\"text-xl font-medium py-8\">No Solar Panels found</h1>\n            {role === \"Admin\" && (\n              <>\n                <button\n                  className=\"px-5 py-2 mt-5 font-medium leading-5 text-center text-white capitalize bg-blue-600 rounded-lg lg:mt-0 hover:bg-blue-500 lg:w-auto\"\n                  onClick={setModal}\n                >\n                  Add Item\n                </button>\n                <AddItem\n                  show={showModal}\n                  onCancel={cancelModal}\n                  onUpdate={onUpdate}\n                  formInputs={formInputs}\n                  title=\"Solar Panel\"\n                />\n              </>\n            )}\n          </div>\n        </div>\n      );\n    } else {\n      return (\n        <>\n          <div className=\"my-2 mx-2 py-6 pb-8 overflow-x-auto border-2 border-blue-400 dark:border-blue-300 rounded-xl relative\">\n            <div className=\"align-middle mb-5 inline-block min-w-full overflow-hidden bg-white  px-8 pt-3 rounded-bl-lg rounded-br-lg\">\n              <table className=\"min-w-full\">\n                <thead>\n                  <tr>\n                    <th className=\"px-6 py-3 border-b-2 border-gray-300 text-left text-sm leading-4 text-blue-500 tracking-wider\">\n                      Name\n                    </th>\n                    <th className=\"px-6 py-3 border-b-2 border-gray-300 text-left text-sm leading-4 text-blue-500 tracking-wider\">\n                      Brand\n                    </th>\n                    <th className=\"px-6 py-3 border-b-2 border-gray-300 text-left text-sm leading-4 text-blue-500 tracking-wider\">\n                      Wattage\n                    </th>\n                    <th className=\"px-6 py-3 border-b-2 border-gray-300 text-left text-sm leading-4 text-blue-500 tracking-wider\">\n                      Voc\n                    </th>\n                    <th className=\"px-6 py-3 border-b-2 border-gray-300 text-left text-sm leading-4 text-blue-500 tracking-wider\">\n                      Imp\n                    </th>\n                    <th className=\"px-6 py-3 border-b-2 border-gray-300 text-left text-sm leading-4 text-blue-500 tracking-wider\">\n                      Vmp\n                    </th>\n                    <th className=\"px-6 py-3 border-b-2 border-gray-300 text-left text-sm leading-4 text-blue-500 tracking-wider\">\n                      Isc\n                    </th>\n                    <th className=\"px-6 py-3 border-b-2 border-gray-300 text-left text-sm leading-4 text-blue-500 tracking-wider\">\n                      Supplier\n                    </th>\n                    <th className=\"px-6 py-3 border-b-2 border-gray-300 text-left text-sm leading-4 text-blue-500 tracking-wider\">\n                      Price\n                    </th>\n                    <th className=\"px-6 py-3 border-b-2 border-gray-300 text-left text-sm leading-4 text-blue-500 tracking-wider\">\n                      Link\n                    </th>\n                    {role === \"Admin\" && (\n                      <th className=\"px-6 py-3 border-b-2 border-gray-300\"></th>\n                    )}\n                  </tr>\n                </thead>\n                <tbody className=\"bg-white\">\n                  {pvlist.map((obj) => (\n                    <SolarPanelItems\n                      key={obj.id}\n                      pvlist={obj}\n                      formInputs={formInputs}\n                      onUpdate={onUpdate}\n                    />\n                  ))}\n                </tbody>\n              </table>\n            </div>\n            {role === \"Admin\" && (\n              <button\n                className=\"block px-5 py-2 mt-5 font-medium leading-5 text-center text-white capitalize bg-blue-600 rounded-lg lg:mt-0 hover:bg-blue-500 lg:w-auto absolute bottom-2 right-6\"\n                onClick={setModal}\n              >\n                Add Item\n              </button>\n            )}\n          </div>\n          {role === \"Admin\" && (\n            <AddItem\n              show={showModal}\n              onCancel={cancelModal}\n              onUpdate={onUpdate}\n              formInputs={formInputs}\n              title=\"Solar Panel\"\n            />\n          )}\n        </>\n      );\n    }\n  };\n\n  return (\n    <>\n      {isLoading && <LoadingSpinner />}\n      {!isLoading && pvlist && toRender(pvlist)}\n    </>\n  );\n};\n\nexport default SolarPanelList;\n"],"sourceRoot":""}