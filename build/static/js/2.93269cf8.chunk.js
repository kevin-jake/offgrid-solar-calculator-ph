(this["webpackJsonpoffgrid-solar-calculator-ph"]=this["webpackJsonpoffgrid-solar-calculator-ph"]||[]).push([[2],{105:function(e,t,a){},40:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return n}));var r=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},n=function(e){return e>=1e9?(e/1e9).toFixed(3).replace(/\.0$/,"")+" G":e>=1e6?(e/1e6).toFixed(3).replace(/\.0$/,"")+" M":e>=1e3?(e/1e3).toFixed(3).replace(/\.0$/,"")+" k":e}},41:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var r=a(38),n=a.n(r),l=a(39),o=a(5),c=a(0),s=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)(),i=Object(o.a)(s,2),d=i[0],u=i[1],m=Object(c.useRef)([]),b=Object(c.useCallback)(function(){var e=Object(l.a)(n.a.mark((function e(t){var a,l,o,c,s,i,d=arguments;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>1&&void 0!==d[1]?d[1]:"GET",l=d.length>2&&void 0!==d[2]?d[2]:null,o=d.length>3&&void 0!==d[3]?d[3]:{},r(!0),c=new AbortController,m.current.push(c),e.prev=6,e.next=9,fetch(t,{method:a,body:l,headers:o,signal:c.signal});case 9:return s=e.sent,e.next=12,s.json();case 12:if(i=e.sent,m.current=m.current.filter((function(e){return e!==c})),s.ok){e.next=16;break}throw new Error(i.message);case 16:return r(!1),e.abrupt("return",i);case 20:throw e.prev=20,e.t0=e.catch(6),u(e.t0.message),r(!1),e.t0;case 25:case"end":return e.stop()}}),e,null,[[6,20]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(c.useEffect)((function(){return function(){m.current.forEach((function(e){return e.abort()}))}}),[]),{isLoading:a,error:d,sendRequest:b,clearError:function(){u(null)}}}},43:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return c})),a.d(t,"e",(function(){return s}));var r=a(59),n=function(){return{type:"REQUIRE"}},l=function(){return{type:"NUMBER"}},o=function(e){return{type:"MINLENGTH",val:e}},c=function(){return{type:"EMAIL"}},s=function(e,t){var a,n=!0,l=Object(r.a)(t);try{for(l.s();!(a=l.n()).done;){var o=a.value;"REQUIRE"===o.type&&(n=n&&e.trim().length>0),"MINLENGTH"===o.type&&(n=n&&e.trim().length>=o.val),"MAXLENGTH"===o.type&&(n=n&&e.trim().length<=o.val),"MIN"===o.type&&(n=n&&+e>=o.val),"MAX"===o.type&&(n=n&&+e<=o.val),"EMAIL"===o.type&&(n=n&&/^\S+@\S+\.\S+$/.test(e)),"NUMBER"===o.type&&(console.log(e),n=!/^[A-Za-z]+$/.test(e)&&(n&&/^[1-9]\d*(\.\d+)?$/.test(e)))}}catch(c){l.e(c)}finally{l.f()}return n}},45:function(e,t,a){"use strict";var r=a(0),n=a.n(r),l=a(61);t.a=function(e){var t=e.msg,a=e.type;Object(r.useEffect)((function(){o(a,t)}),[t,a]);var o=function(e,t){switch(e){case"SUCCESS":return l.b.custom((function(e){return n.a.createElement("div",{className:"".concat(e.visible?"animate-enter":"animate-leave"," relative duration-300 space-x-2 justify-center")},n.a.createElement("div",{className:"flex p-4 mb-4 top-0 right-0 -mt-1 mr-2 items-center text-sm text-green-700 bg-green-100 rounded-lg dark:bg-green-200 dark:text-green-800",role:"alert"},n.a.createElement("svg",{className:"h-8 w-8 text-green-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}," ",n.a.createElement("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"})," ",n.a.createElement("polyline",{points:"22 4 12 14.01 9 11.01"})),n.a.createElement("div",{className:"ml-2 inline-block"},n.a.createElement("span",{className:"font-medium"},"Success alert!")," Change a few things up and try submitting again."),n.a.createElement("button",{onClick:function(){return l.b.remove(e.id)},className:"border border-transparent p-2 items-center justify-center text-sm font-medium text-indigo-600 hover:text-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500"},n.a.createElement("svg",{className:"h-6 w-6 text-green-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}," ",n.a.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"})," ",n.a.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})))))}),{duration:2e3});case"ERROR":return l.b.custom((function(e){return n.a.createElement("div",{className:"".concat(e.visible?"animate-enter":"animate-leave"," relative duration-300 space-x-2 justify-center")},n.a.createElement("div",{className:"flex p-4 mb-4 top-0 right-0 -mt-1 mr-2 items-center text-sm text-red-700 bg-red-100 rounded-lg dark:bg-red-200 dark:text-red-800",role:"alert"},n.a.createElement("svg",{className:"h-8 w-8 text-red-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}," ",n.a.createElement("circle",{cx:"12",cy:"12",r:"10"})," ",n.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"12"})," ",n.a.createElement("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})),n.a.createElement("div",{className:"ml-2 inline-block"},n.a.createElement("span",{className:"font-medium"},"ERROR!")," ",t),n.a.createElement("button",{onClick:function(){return l.b.remove(e.id)},className:"border border-transparent p-2 items-center justify-center text-sm font-medium text-indigo-600 hover:text-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500"},n.a.createElement("svg",{className:"h-6 w-6 text-red-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}," ",n.a.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"})," ",n.a.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})))))}),{duration:2e3});default:return n.a.createElement(n.a.Fragment,null)}};return n.a.createElement(n.a.Fragment,null,t&&n.a.createElement(l.a,null))}},50:function(e,t,a){"use strict";var r=a(38),n=a.n(r),l=a(39),o=a(5),c=a(0),s=a.n(c),i=a(15),d=a.n(i),u=a(108),m=a(60),b=a(80),g=a(43),f=a(79),y=a(41),p=a(11),k=a(16),v=a(45),x=function(e){var t=e.onCancel,a=e.onUpdate,r=e.formInputs,i=e.title,u=e.state,m=Object(c.useState)(s.a.createElement(s.a.Fragment,null)),x=Object(o.a)(m,2),h=x[0],E=x[1],w=Object(y.a)(),O=w.isLoading,N=w.error,j=w.sendRequest,C=Object(c.useContext)(p.a),S=Object(c.useState)({value:"",label:""}),P=Object(o.a)(S,2),L=P[0],R=P[1],F=Object(c.useState)({}),B=Object(o.a)(F,2),I=B[0],z=B[1],M=Object(c.useState)(u),A=Object(o.a)(M,2),D=A[0],T=A[1],U=Object(c.useState)({}),H=Object(o.a)(U,2),V=H[0],$=H[1],q=Object(c.useState)({}),G=Object(o.a)(q,2),J=G[0],W=G[1];Object(c.useEffect)((function(){E(ee())}),[D,I,L]),Object(c.useEffect)((function(){var e=J;r.forEach((function(t){t.hasOwnProperty("validator")&&(e[t.listkey]={validator:t.validator,label:t.label})})),W(e)}),[]);var Q=function(e,t,a,r){var n=V,l=D;if(e){var o=a.toString();"0"===o&&(o="");var c=Object(g.e)(o,e);l[r]=c,e.forEach((function(e){n[r]={type:e.type,message:c?"":Object(f.a)(e.type,t)}}))}return{stateSet:l,errorObj:n}},_=function(e,t){var a={};return e.forEach((function(e){var r=e.listkey;J.hasOwnProperty(r)&&(0!==Object.keys(t).length&&t.hasOwnProperty(r)?a[r]=Q(J[r].validator,t[r].label,t[r].dataval,r):a[r]=Q(J[r].validator,J[r].label,"",r))})),a},X=function(e,t,a,r,n){a[t]={dataval:e,label:n};var l=Q(r,n,e,t);["voltage","price","priceperpc","battcapacity","voc","imp","vmp","isc","amprating","efficiency"].includes(t)&&(a[t].dataval=parseFloat(a[t].dataval)),r?($(l.errorObj),T(l.stateSet),z(a),E(ee())):(z(a),E(ee()))},Z=function(){var e=Object(l.a)(n.a.mark((function e(r,l){var o,c,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s in o={},r)o[s]=r[s].dataval;return c="Solar Panel"===l?"pv":l.toLowerCase(),e.prev=3,e.next=6,j("https://solar-calculator-ph.herokuapp.com/api/"+c,"POST",JSON.stringify(o),{Authorization:"Bearer "+C.token,"Content-Type":"application/json"});case 6:t(),a(!0,"ADD"),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,a){return e.apply(this,arguments)}}(),K=function(e,t,a){switch(e.preventDefault(),a){case"Battery":var n=_(r,t),l=!0;for(var o in n)l=l&&n[o].stateSet[o];l&&Z(t,a);break;case"Inverter":var c=_(r,t),s=!0;for(var i in c)s=s&&c[i].stateSet[i];s&&Z(t,a);break;case"Solar Panel":var d=_(r,t),u=!0;for(var m in d)u=u&&d[m].stateSet[m];u&&Z(t,a);break;case"SCC":var b=_(r,t),g=!0;for(var f in b)g=g&&b[f].stateSet[f];g&&Z(t,a);break;default:return null}E(ee())},Y=function(e){return"select"===e.type?s.a.createElement("div",{key:e.listkey},s.a.createElement("label",{className:"text-gray-700 dark:text-gray-200",htmlFor:e.listkey},e.label,e.validator&&"*"),s.a.createElement(b.a,{className:"block w-full px-4 py-2 mt-2 ".concat(D.hasOwnProperty(e.listkey)?D[e.listkey]?"text-gray-700 bg-white dark:bg-gray-800 border-gray-200 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-blue-300":"text-red-700 bg-red-50 dark:bg-red-800 border-red-200 dark:text-red-300 dark:border-red-600 focus:border-red-400 dark:focus:border-red-300 focus:ring-red-300":"text-gray-700 bg-white dark:bg-gray-800 border-gray-200 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-blue-300"),value:L,onChange:function(t){return function(e,t,a,r,n){if(a[t]={dataval:e.value,label:n},r){var l=Q(r,n,e,t);$(l.errorObj),T(l.stateSet),R(e),z(a),E(ee())}else R(e),z(a)}(t,e.listkey,I,e.validator,e.label)},options:e.options}),s.a.createElement("p",{className:"text-red-700 text-xs"},V.hasOwnProperty(e.listkey)&&V[e.listkey].message)):e.hasOwnProperty("unit")?"Php"!==e.unit?s.a.createElement("div",{key:e.listkey},s.a.createElement("label",{className:"text-gray-700 dark:text-gray-200",htmlFor:e.listkey},s.a.createElement("span",null,e.label," ",s.a.createElement("p",{className:"inline-block text-red-700 text-sm font-bold"},e.validator&&" *"))),s.a.createElement("div",{className:"grid grid-cols-2 gap-2 justify-items-start place-items-center"},s.a.createElement("input",{id:e.listkey,type:e.type,onChange:function(t){return X(t.target.value,e.listkey,I,e.validator,e.label)},className:"block w-full px-4 py-2 mt-2  border rounded-md focus:ring-opacity-40 focus:outline-none focus:ring ".concat(D.hasOwnProperty(e.listkey)?D[e.listkey]?"text-gray-700 bg-white dark:bg-gray-800 border-gray-200 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-blue-300":"text-red-700 bg-red-50 dark:bg-red-800 border-red-200 dark:text-red-300 dark:border-red-600 focus:border-red-400 dark:focus:border-red-300 focus:ring-red-300":"text-gray-700 bg-white dark:bg-gray-800 border-gray-200 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-blue-300")})," ",e.unit),s.a.createElement("p",{className:"text-red-700 text-xs"},V.hasOwnProperty(e.listkey)&&V[e.listkey].message)):s.a.createElement("div",{key:e.listkey},s.a.createElement("label",{className:"text-gray-700 dark:text-gray-200",htmlFor:e.listkey},s.a.createElement("span",null,e.label," ",s.a.createElement("p",{className:"inline-block text-red-700 text-sm font-bold"},e.validator&&" *"))),s.a.createElement("div",{className:"justify-items-start place-items-center"},s.a.createElement("span",null," ",e.unit,s.a.createElement("input",{id:e.listkey,type:e.type,onChange:function(t){return X(t.target.value,e.listkey,I,e.validator,e.label)},className:"inline-block w-3/5 mx-2 px-4 py-2 mt-2 border rounded-md focus:ring-opacity-40 focus:outline-none focus:ring ".concat(D.hasOwnProperty(e.listkey)?D[e.listkey]?"text-gray-700 bg-white dark:bg-gray-800 border-gray-200 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-blue-300":"text-red-700 bg-red-50 dark:bg-red-800 border-red-200 dark:text-red-300 dark:border-red-600 focus:border-red-400 dark:focus:border-red-300 focus:ring-red-300":"text-gray-700 bg-white dark:bg-gray-800 border-gray-200 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-blue-300")})),s.a.createElement("p",{className:"text-red-700 text-xs"},V.hasOwnProperty(e.listkey)&&V[e.listkey].message))):"id"===e.listkey?s.a.createElement(s.a.Fragment,null):s.a.createElement("div",{key:e.listkey},s.a.createElement("label",{className:"text-gray-700 dark:text-gray-200",htmlFor:e.listkey},s.a.createElement("span",null,e.label," ",s.a.createElement("p",{className:"inline-block text-red-700 text-sm font-bold"},e.validator&&" *"))),s.a.createElement("input",{id:e.listkey,onChange:function(t){return X(t.target.value,e.listkey,I,e.validator,e.label)},type:"text",className:"block w-full px-4 py-2 mt-2  border rounded-md focus:ring-opacity-40 focus:outline-none focus:ring ".concat(D.hasOwnProperty(e.listkey)?D[e.listkey]?"text-gray-700 bg-white dark:bg-gray-800 border-gray-200 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-blue-300":"text-red-700 bg-red-50 dark:bg-red-800 border-red-200 dark:text-red-300 dark:border-red-600 focus:border-red-400 dark:focus:border-red-300 focus:ring-red-300":"text-gray-700 bg-white dark:bg-gray-800 border-gray-200 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-blue-300")}),s.a.createElement("p",{className:"text-red-700 text-xs"},V.hasOwnProperty(e.listkey)&&V[e.listkey].message))},ee=function(){return s.a.createElement(s.a.Fragment,null,O&&s.a.createElement(k.a,null),s.a.createElement("div",{id:"childcontent",className:"fixed right-0 left-0 top-4 bottom-4 z-50 justify-center items-center h-modal md:h-full md:inset-0 flex","aria-modal":"true",role:"dialog"},s.a.createElement("div",{className:"relative px-4 w-full max-w-4xl h-full md:h-auto overflow-y-auto max-h-screen"},s.a.createElement("div",{className:"relative bg-white rounded-lg shadow dark:bg-gray-700"},s.a.createElement("div",{className:"flex justify-end p-2"},s.a.createElement("button",{type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-800 dark:hover:text-white",onClick:t},s.a.createElement("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})))),s.a.createElement("section",{className:"max-w-4xl p-6 mx-auto bg-white rounded-md shadow-md dark:bg-gray-800"},s.a.createElement("h2",{className:"text-lg font-semibold text-gray-700 capitalize dark:text-white"},"Add New ",i),s.a.createElement("form",{onSubmit:function(e){return K(e,I,i)}},s.a.createElement("div",{className:"grid grid-cols-1 gap-6 mt-4 sm:grid-cols-2"},r.map((function(e){return Y(e)}))),s.a.createElement("div",{className:"flex justify-end mt-6"},s.a.createElement("button",{type:"submit",className:"block px-5 py-2 mt-5 font-medium leading-5 text-center text-white capitalize bg-blue-600 rounded-lg lg:mt-0 hover:bg-blue-500 lg:w-auto"},"Save"))))))),N&&!O&&s.a.createElement(v.a,{msg:N,type:"ERROR"}))};return d.a.createPortal(h,document.getElementById("modal-hook"))};t.a=function(e){var t={};return e.formInputs.forEach((function(e){e.hasOwnProperty("validator")&&(t[e.listkey]=!0)})),s.a.createElement(s.a.Fragment,null,e.show&&s.a.createElement(m.a,{onClick:e.onCancel}),s.a.createElement(u.a,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"modal"},s.a.createElement(x,Object.assign({},e,{state:t}))))}},51:function(e,t,a){"use strict";var r=a(38),n=a.n(r),l=a(39),o=a(5),c=a(0),s=a.n(c),i=a(15),d=a.n(i),u=a(108),m=a(60),b=a(41),g=a(11),f=function(e){var t=e.onCancel,a=e.idToDelete,r=e.title,i=e.onUpdate,u=Object(c.useState)(s.a.createElement(s.a.Fragment,null)),m=Object(o.a)(u,2),f=m[0],y=m[1],p=Object(b.a)(),k=(p.isLoading,p.error,p.sendRequest),v=(p.clearError,Object(c.useContext)(g.a));Object(c.useEffect)((function(){y(E())}),[y]);var x=function(){var e=Object(l.a)(n.a.mark((function e(a,r){var l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l="Solar Panel"===r?"pv":r.toLowerCase(),e.prev=1,e.next=4,k("https://solar-calculator-ph.herokuapp.com/api/"+l+"/"+a,"DELETE",null,{Authorization:"Bearer "+v.token,"Content-Type":"application/json"});case 4:t(),i(),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}(),h=function(e,t,r){switch(e.preventDefault(),r){case"Battery":case"Inverter":case"Solar Panel":case"SCC":x(a,r)}y(E())},E=function(){return s.a.createElement("div",{id:"authentication-modal",className:"fixed right-0 left-0 top-4 bottom-4 z-50 justify-center items-center h-modal md:h-full md:inset-0 flex","aria-modal":"true",role:"dialog"},s.a.createElement("div",{className:"relative px-4 w-full max-w-lg h-full md:h-auto overflow-y-auto max-h-screen"},s.a.createElement("div",{className:"relative bg-white rounded-lg shadow dark:bg-gray-700"},s.a.createElement("div",{className:"flex justify-end p-2"},s.a.createElement("button",{type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-800 dark:hover:text-white",onClick:t},s.a.createElement("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})))),s.a.createElement("section",{className:"max-w-xl p-6 mx-auto bg-white rounded-md shadow-md dark:bg-gray-800"},s.a.createElement("div",{className:"text-center p-5 flex-auto justify-center"},s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-16 h-16 flex items-center text-red-500 mx-auto",viewBox:"0 0 20 20",fill:"blue-50"},s.a.createElement("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})),s.a.createElement("h2",{className:"text-xl font-bold py-4 "},"Are you sure?"),s.a.createElement("p",{className:"text-sm text-gray-500 px-8"},"Do you really want to delete your this row?")),s.a.createElement("div",{className:"p-3 grid gap-4 mt-2 grid-cols-2 sm:grid-row"},s.a.createElement("button",{className:"px-5 py-2 font-medium text-center text-gray-600 capitalize bg-white rounded-lg lg:mt-0 hover:bg-blue-500 hover:text-white lg:w-auto tracking-wider border ",onClick:t}," ","Cancel"),s.a.createElement("button",{className:"px-5 py-2 font-medium text-center text-white capitalize bg-blue-600 rounded-lg lg:mt-0 hover:bg-blue-500 lg:w-auto tracking-wider",onClick:function(e){return h(e,0,r)}}," ","Delete"))))))};return d.a.createPortal(f,document.getElementById("modal-hook"))};t.a=function(e){return s.a.createElement(s.a.Fragment,null,e.show&&s.a.createElement(m.a,{onClick:e.onCancel}),s.a.createElement(u.a,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"modal"},s.a.createElement(f,e)))}},52:function(e,t,a){"use strict";var r=a(38),n=a.n(r),l=a(39),o=a(5),c=a(0),s=a.n(c),i=a(15),d=a.n(i),u=a(108),m=a(60),b=a(80),g=a(43),f=a(79),y=a(41),p=a(11),k=function(e){var t=e.onCancel,a=e.formInputs,r=e.title,i=e.state,u=e.defaultData,m=e.onUpdate,k=Object(c.useState)(s.a.createElement(s.a.Fragment,null)),v=Object(o.a)(k,2),x=v[0],h=v[1],E=Object(y.a)(),w=(E.isLoading,E.error,E.sendRequest),O=(E.clearError,Object(c.useContext)(p.a)),N=Object(c.useState)(u),j=Object(o.a)(N,2),C=j[0],S=j[1],P=Object(c.useState)(i),L=Object(o.a)(P,2),R=L[0],F=L[1],B=Object(c.useState)({}),I=Object(o.a)(B,2),z=I[0],M=I[1],A=Object(c.useState)({}),D=Object(o.a)(A,2),T=D[0],U=D[1],H=Object(c.useState)({value:"",label:""}),V=Object(o.a)(H,2),$=V[0],q=V[1];Object(c.useEffect)((function(){h(Z())}),[R,C,$]),Object(c.useEffect)((function(){var e=T;a.forEach((function(t){t.hasOwnProperty("validator")&&(e[t.listkey]={validator:t.validator,label:t.label})})),U(e)}),[]),Object(c.useEffect)((function(){S(C)}),[]);var G=function(e,t,a,r){var n=z,l=R;if(e){var o=a.toString();"0"===o&&(o="");var c=Object(g.e)(o,e);l[r]=c,e.forEach((function(e){n[r]={type:e.type,message:c?"":Object(f.a)(e.type,t)}}))}return{stateSet:l,errorObj:n}},J=function(e,t){var a={};return e.forEach((function(e){var r=e.listkey;T.hasOwnProperty(r)&&(0!==Object.keys(t).length&&t.hasOwnProperty(r)?a[r]=G(T[r].validator,t[r].label,t[r].dataval,r):a[r]=G(T[r].validator,T[r].label,"",r))})),a},W=function(e,t,a,r,n){a[t]={dataval:e,label:n};var l=G(r,n,e,t);["voltage","price","priceperpc","battcapacity","voc","imp","vmp","isc","amprating","efficiency"].includes(t)&&(a[t].dataval=parseFloat(a[t].dataval)),r?(M(l.errorObj),F(l.stateSet),S(a),h(Z())):(S(a),h(Z()))},Q=function(){var e=Object(l.a)(n.a.mark((function e(a,r){var l,o,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c in l={},a)l[c]=a[c].dataval;return o="Solar Panel"===r?"pv":r.toLowerCase(),e.prev=3,e.next=6,w("https://solar-calculator-ph.herokuapp.com/api/"+o+"/"+l.id,"PATCH",JSON.stringify(l),{Authorization:"Bearer "+O.token,"Content-Type":"application/json"});case 6:t(),m(),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,a){return e.apply(this,arguments)}}(),_=function(e,t,r){switch(e.preventDefault(),r){case"Battery":var n=J(a,t),l=!0;for(var o in n)l=l&&n[o].stateSet[o];l&&Q(t,r);break;case"Inverter":var c=J(a,t),s=!0;for(var i in c)s=s&&c[i].stateSet[i];s&&Q(t,r);break;case"Solar Panel":var d=J(a,t),u=!0;for(var m in d)u=u&&d[m].stateSet[m];u&&Q(t,r);break;case"SCC":var b=J(a,t),g=!0;for(var f in b)g=g&&b[f].stateSet[f];g&&Q(t,r);break;default:return null}h(Z())},X=function(e,t){if("select"===e.type){var a=e.options.findIndex((function(a){return a.value===t[e.listkey].dataval}));return s.a.createElement("div",{key:e.listkey},s.a.createElement("label",{className:"text-gray-700 dark:text-gray-200",htmlFor:e.listkey},e.label,e.validator&&"*"),s.a.createElement(b.a,{className:"block w-full px-4 py-2 mt-2 ".concat(R.hasOwnProperty(e.listkey)?R[e.listkey]?"text-gray-700 bg-white dark:bg-gray-800 border-gray-200 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-blue-300":"text-red-700 bg-red-50 dark:bg-red-800 border-red-200 dark:text-red-300 dark:border-red-600 focus:border-red-400 dark:focus:border-red-300 focus:ring-red-300":"text-gray-700 bg-white dark:bg-gray-800 border-gray-200 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-blue-300"),value:""===$.value?e.options[a]:$,onChange:function(t){return function(e,t,a,r,n){if(a[t]={dataval:e.value,label:n},r){var l=G(r,n,e,t);M(l.errorObj),F(l.stateSet),q(e),S(a),h(Z())}else q(e),S(a)}(t,e.listkey,C,e.validator,e.label)},options:e.options}),s.a.createElement("p",{className:"text-red-700 text-xs"},z.hasOwnProperty(e.listkey)&&z[e.listkey].message))}return e.hasOwnProperty("unit")?"Php"!==e.unit?s.a.createElement("div",{key:e.listkey},s.a.createElement("label",{className:"text-gray-700 dark:text-gray-200",htmlFor:e.listkey},s.a.createElement("span",null,e.label," ",s.a.createElement("p",{className:"inline-block text-red-700 text-sm font-bold"},e.validator&&" *"))),s.a.createElement("div",{className:"grid grid-cols-2 gap-2 justify-items-start place-items-center"},s.a.createElement("input",{id:e.listkey,value:t[e.listkey].dataval,type:e.type,onChange:function(t){return W(t.target.value,e.listkey,C,e.validator,e.label)},className:"block w-full px-4 py-2 mt-2  border rounded-md focus:ring-opacity-40 focus:outline-none focus:ring ".concat(R.hasOwnProperty(e.listkey)?R[e.listkey]?"text-gray-700 bg-white dark:bg-gray-800 border-gray-200 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-blue-300":"text-red-700 bg-red-50 dark:bg-red-800 border-red-200 dark:text-red-300 dark:border-red-600 focus:border-red-400 dark:focus:border-red-300 focus:ring-red-300":"text-gray-700 bg-white dark:bg-gray-800 border-gray-200 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-blue-300")})," ",e.unit),s.a.createElement("p",{className:"text-red-700 text-xs"},z.hasOwnProperty(e.listkey)&&z[e.listkey].message)):s.a.createElement("div",{key:e.listkey},s.a.createElement("label",{className:"text-gray-700 dark:text-gray-200",htmlFor:e.listkey},s.a.createElement("span",null,e.label," ",s.a.createElement("p",{className:"inline-block text-red-700 text-sm font-bold"},e.validator&&" *"))),s.a.createElement("div",{className:"justify-items-start place-items-center"},s.a.createElement("span",null," ",e.unit,s.a.createElement("input",{id:e.listkey,type:e.type,value:t[e.listkey].dataval,onChange:function(t){return W(t.target.value,e.listkey,C,e.validator,e.label)},className:"inline-block w-3/5 mx-2 px-4 py-2 mt-2 border rounded-md focus:ring-opacity-40 focus:outline-none focus:ring ".concat(R.hasOwnProperty(e.listkey)?R[e.listkey]?"text-gray-700 bg-white dark:bg-gray-800 border-gray-200 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-blue-300":"text-red-700 bg-red-50 dark:bg-red-800 border-red-200 dark:text-red-300 dark:border-red-600 focus:border-red-400 dark:focus:border-red-300 focus:ring-red-300":"text-gray-700 bg-white dark:bg-gray-800 border-gray-200 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-blue-300")})),s.a.createElement("p",{className:"text-red-700 text-xs"},z.hasOwnProperty(e.listkey)&&z[e.listkey].message))):"id"===e.listkey?s.a.createElement(s.a.Fragment,null):s.a.createElement("div",{key:e.listkey},s.a.createElement("label",{className:"text-gray-700 dark:text-gray-200",htmlFor:e.listkey},s.a.createElement("span",null,e.label," ",s.a.createElement("p",{className:"inline-block text-red-700 text-sm font-bold"},e.validator&&" *"))),s.a.createElement("input",{id:e.listkey,value:t[e.listkey].dataval,onChange:function(t){return W(t.target.value,e.listkey,C,e.validator,e.label)},type:"text",className:"block w-full px-4 py-2 mt-2  border rounded-md focus:ring-opacity-40 focus:outline-none focus:ring ".concat(R.hasOwnProperty(e.listkey)?R[e.listkey]?"text-gray-700 bg-white dark:bg-gray-800 border-gray-200 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-blue-300":"text-red-700 bg-red-50 dark:bg-red-800 border-red-200 dark:text-red-300 dark:border-red-600 focus:border-red-400 dark:focus:border-red-300 focus:ring-red-300":"text-gray-700 bg-white dark:bg-gray-800 border-gray-200 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-blue-300")}),s.a.createElement("p",{className:"text-red-700 text-xs"},z.hasOwnProperty(e.listkey)&&z[e.listkey].message))},Z=function(){return s.a.createElement("div",{id:"authentication-modal",className:"fixed right-0 left-0 top-4 bottom-4 z-50 justify-center items-center h-modal md:h-full md:inset-0 flex","aria-modal":"true",role:"dialog"},s.a.createElement("div",{className:"relative px-4 w-full max-w-4xl h-full md:h-auto overflow-y-auto max-h-screen"},s.a.createElement("div",{className:"relative bg-white rounded-lg shadow dark:bg-gray-700"},s.a.createElement("div",{className:"flex justify-end p-2"},s.a.createElement("button",{type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-800 dark:hover:text-white",onClick:t},s.a.createElement("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})))),s.a.createElement("section",{className:"max-w-4xl p-6 mx-auto bg-white rounded-md shadow-md dark:bg-gray-800"},s.a.createElement("h2",{className:"text-lg font-semibold text-gray-700 capitalize dark:text-white"},"Edit ",r," Data (",C.id.dataval,")"),s.a.createElement("form",{onSubmit:function(e){return _(e,C,r)}},s.a.createElement("div",{className:"grid grid-cols-1 gap-6 mt-4 sm:grid-cols-2"},a.map((function(e){return X(e,C)}))),s.a.createElement("div",{className:"flex justify-end mt-6"},s.a.createElement("button",{type:"submit",className:"block px-5 py-2 mt-5 font-medium leading-5 text-center text-white capitalize bg-blue-600 rounded-lg lg:mt-0 hover:bg-blue-500 lg:w-auto"},"Save")))))))};return d.a.createPortal(x,document.getElementById("modal-hook"))};t.a=function(e){var t={},a={},r=function(t){var r="";e.formInputs.forEach((function(e){e.listkey===t&&(r=e.label)})),a[t]={dataval:e.initialValue[t],label:r}};for(var n in e.initialValue)r(n);return e.formInputs.forEach((function(e){e.hasOwnProperty("validator")&&(t[e.listkey]=!0)})),delete a.creator,delete a.__v,delete a._id,s.a.createElement(s.a.Fragment,null,e.show&&s.a.createElement(m.a,{onClick:e.onCancel}),s.a.createElement(u.a,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"modal"},s.a.createElement(k,Object.assign({},e,{state:t,defaultData:a}))))}},60:function(e,t,a){"use strict";var r=a(0),n=a.n(r),l=a(15),o=a.n(l);a(105);t.a=function(e){return o.a.createPortal(n.a.createElement("div",{className:"backdrop",onClick:e.onClick}),document.getElementById("backdrop-hook"))}},79:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var r=function(e,t){switch(e){case"REQUIRE":return t+" is a required field";case"NUMBER":return"Enter a valid number for "+t;default:return""}}}}]);
//# sourceMappingURL=2.93269cf8.chunk.js.map